(PSYCHTOOLBOX FRAMEWORK)

By default plays a beep at 440 hz (A) until a cue you set in property .end occurs.

Alternatively you can use properties .fileName or .dataExpr to play a sound file or sound data. Then by default the element ends on its own when the file/data ends (so you don't need to set property .end unless you want it to end earlier). You can set property .repeat if you want to change this. 

sound elements use the high-precision PortAudio sound system run by Psychtoolbox. You can make an optional audio object and set its properties if you need to set parameters shared across element class that use it--see PsychBench Reference Manual sec 5.3. See help text for the Psychtoolbox function INITIALIZEPSYCHSOUND and generally the Psychtoolbox website and PsychPortAudio documentation for notes on operating systems, sound systems, and soundcards, especially for precise timing.

If you play sound from a file or sound data, the sample rate your sound device uses must = sample rate of file or data. For a file, the element will throw an error if device and file sample rates are not the same. For data, it will just play distorted (sped up or slowed down) since 2xn matrix sound data doesn't include a record of the sample rate it was recorded at and the element assumes it's the same as device sample rate. You can set device sample rate within the limits of your device by setting audio object property .sampleRate (default = device default). If the sample rate you need is not available, you may be able to switch devices using audio object property .n_device (many systems have more than one "device" PortAudio can use even if it doesn't look like it).

Mono sound plays on all channels open on the device (see audio object property .numChannels, default = 2).

See also class beep.





INPUT PROPERTIES
You can set input properties to specify how an object will show or run.
To leave any property at default, omit it (or leave = []).
==========



----------
Adjustable properties

You can allow the subject to adjust the following input properties of an object of this class during the experiment using an adjuster element. If you need to make other properties adjustable, you can edit the element class.

(None)



----------
fileName
dataExpr    DEFAULTS: play beep.

You can set one of .fileName or .dataExpr. If you leave both at default, the element plays a beep on all channels (see property .beepFrequency below).

.fileName is a string that is name of sound file to play. Include path if the file is not in the MATLAB current folder or search path (or not the first file with that name on the search path). File can be any format MATLAB AUDIOREAD understands (most formats). Ignored if you set .dataExpr.

OR

.dataExpr: Use this to get the sound from a sound data matrix in the base MATLAB workspace. The sound data matrix must have dimensions channels x samples--e.g. for mono sound a 1xn vector, for stereo sound a 2xn matrix, etc. NOTE MATLAB AUDIOREAD outputs the opposite convention, so you need to transpose the variable if you use that function to produce it (use function TRANSPOSE or just ').

.dataExpr is a string that is the expression pointing to the data. This can be just a variable name or it can include indexes, field names, etc.

e.g.
"soundData"
"sounds{5}"
"albums.meows(2).sound"



----------
beepFrequency    DEFAULT: 440 Hz (A).

If you don't set .fileName or .dataExpr, this is the frequency of the beep the element plays (Hz).



----------
startTimeInSound    DEFAULT: start at start.

Time in sound to start at (sec). 0 = start.



----------
speed    DEFAULT: play forward.

Currently only 1 = play forward, -1 = play backward.



----------
repeat    DEFAULT: element ends on its own when sound file/data ends.

true/false: play indefinitely by repeating until a cue you set in property .end occurs. If false, the element ends on its own at end of sound file/data. Only for a sound file or data (the default beep always plays indefinitely).



----------
volume    DEFAULT: maximum.

A number between 0-1.



----------
reportTimeout    DEFAULT: 0.5 sec.

A sound element waits after a trial it runs in for the PortAudio system to report sound start/end time. If you see a warning that the report was not received and recorded start/end time is approximate, you can increase maximum time to wait for the report here (sec). However, PsychBench cannot prepare or start the next trial while waiting, so set this minimally.

Alternatively, 0 = don't wait and disable the warning that report was not received. This can be useful if you are getting the warning in an experiment where timing doesn't matter.



----------
INPUT PROPERTIES ALL OBJECTS HAVE

*** See PsychBench Reference Manual sec 1 for full documentation. ***


- label     DEFAULT: none.
Struct with any fields containing any values you want as custom information to see for the object in experiment results. Field names go to headings in results table. [] = none.

- report    DEFAULT: none.
Array of strings that are names of properties to see for the object in experiment results. [] = none.



----------
INPUT PROPERTIES ALL ELEMENTS HAVE

*** See PsychBench Reference Manual sec 2 for full documentation. ***


- start             DEFAULT: no start cues.
Start time/cue(s) in the trial for the element. Further struct or struct array with one or more fields: .t, timeFromSync, startOf, endOf, response, responseBy, trigger, triggerBy, and, timeFrom. [] = no start cues -> element doesn't run.

- end               DEFAULT: no end cues.
End time/cue(s) in the trial for the element. Further struct or struct array with one or more fields: .t, timeFromSync, duration, startOf, endOf, response, responseBy, trigger, triggerBy, and, timeFrom. [] = no end cues -> element runs indefinitely unless it can end on its own.

- startBuffer
- endBuffer         DEFAULTS: none.
Time buffer to start/end (sec) if bufferable start/end latency occurs. Only for experiments where precise timing is important.

- syncExperimentAtTrigger
Not used by this class.

- staircase         DEFAULT: don't staircase element.
Staircase one or more input properties of the element. Further struct or struct array with one or more fields: .target, setExpr, min, max, setStaircaseExpr. [] = don't staircase element.





RECORD PROPERTIES
PsychBench uses record properties to record information during experiments.
You can't set record properties but you can see them in experiment results using input property .report.
==========



----------
RECORD PROPERTIES ALL OBJECTS HAVE

*** See PsychBench Reference Manual sec 1 for full documentation. ***


- who
String: variable name and possibly index you used for the object in the experiment script, e.g. "pictures(2)".



----------
RECORD PROPERTIES ALL ELEMENTS HAVE

*** See PsychBench Reference Manual sec 2 for full documentation. ***


- startTime
â€“ endTime
Start/End time relative to trial 1 start (sec).

- duration
End time - start time (sec).

- n_startFrame
- n_endFrame
Frame number in the trial for first/last frames the element ran in. Start time = first frame start time. End time = last frame end time.

- startLatencyBufferable
- endLatencyBufferable
Start/End delay that might be reducible by setting .startBuffer/.endBuffer (sec). Only for experiments where precise timing is important.

- syncTime
- trigger
- triggerTime
- d_triggerTime
- n_triggerFrame
- numTriggers
Not used by this class.